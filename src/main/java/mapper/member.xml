<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="kr.co.meetup.member">
	<insert id="addMember" parameterType="MemberVO">
		INSERT INTO member (geoCode, memberPhone, memberPw, memberNickname, memberStatus, createdAt, updatedAt) 
		VALUES (#{geoCode}, #{memberPhone}, #{memberPw}, #{memberNickname}, DEFAULT, DEFAULT, DEFAULT)
	</insert>
	
	<select id="selectOneMemberByPhone" parameterType="Hashmap" resultType="MemberVO">
		SELECT memberNo, geoCode, memberPhone, memberPw, memberNickname, memberIntro, memberStatus, memberOriginalImg, memberSaveImg, memberDeadDate, createdAt, updatedAt
		FROM member
		WHERE memberPhone = #{memberPhone}
	</select>
	
	<select id="selectMemberNoByPhone" parameterType="String" resultType="Integer">
		SELECT memberNo 
		FROM member
		WHERE memberPhone = #{memberPhone}
	</select>
	
	<update id="updateOneMemberByMemberNo" parameterType="MemberVO">
		UPDATE member 
		SET memberNickname = #{memberNickname}, geoCode = #{geoCode}, memberIntro = #{memberIntro} 
		WHERE memberNo = #{memberNo}
	</update>
</mapper>